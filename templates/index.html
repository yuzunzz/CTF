{% extends "base.html" %}
{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/ctf.css') }}">
{{super()}}
{% endblock %}
{% block page_content %}
    {% if current_user.is_authenticated() %}
    <div class="alert alert-info">
    Hello, <strong>{{ current_user.username }}</strong>&nbsp;&nbsp;&nbsp;Your rank is {{ranking}}<span class="pull-right badge badge-info">
    {{ current_user.score }}</span>
    </div>
    {% endif %}

    <div class="row">
  		<div class="col-md-12">
  			<div class="row">
  				<div class="col-md-2">
  				</div>
  				<div id="bodytd" class="col-md-8"><br><br>
            <!-- 题目的背景颜色列表 -->
            {% set list = ['#564A80','#B452CD']%}
            {% for challenge in challenges %}
            {% if challenge.score|int < 300 %}
            <a href='/challenges/{{challenge.name}}' class='tile {{ 'solved' if challenge.name in current_user.solved else '' }}' style='background-color: {{ list|random }}; text-decoration: none'>
            <span class='cat'>{{challenge.category}}</span><br/><span class='cost'>{{challenge.score}}</span><br/>
            <span class='desc'>{{challenge.name}}</span></a>
            {% else %}
            <a href='/challenges/{{challenge.name}}' class='tile big {{ 'solved' if challenge.name in current_user.solved else '' }}' style='background-color: {{ list|random }}; text-decoration: none'>
            <span class='cat'>{{challenge.category}}</span><br/><span class='cost'>{{challenge.score}}</span><br/>
            <span class='desc'>{{challenge.name}}</span></a>
            {% endif %}
            {% endfor %}
          </div>
  				<div class="col-md-2">
  				</div>
  			</div>
  		</div>
  	</div>
{% endblock %}
